# Codex Agent Instructions for BYDChain

This repository implements a Delegated Proof‑of‑Stake blockchain in Node.js alongside a Next.js web interface.

## Local setup
- Requires Node.js 18 or higher.
- Run `npm install` to install dependencies.
- Start the node and the UI with `npm run dev`.
- The API is available at `http://localhost:8000` and the UI at `http://localhost:3000`.

## Testing and style
- Run `npm test` to execute the Jest suite.
- Run `npm run eslint` to check code style.
- Ensure tests and linter pass before committing.

## Style guide
- Follow the existing style in each folder.
  - Backend files (`.js`) use semicolons and single quotes.
  - React/Next files (`.ts`/`.tsx`) use 2 spaces indentation and no semicolons.
- Do not include generated files or `node_modules` in commits.

## Project structure
- `src/` holds the blockchain logic and API.
- `pages/` and `components/` make up the Next.js frontend.
- `bin/cli.js` provides a command-line tool.
- Persistent data lives in `src/storage/`.

## Key files
- `README.md` explains the project's purpose.
- `index.js` demonstrates block creation in the console.
- `dev.js` launches API and frontend simultaneously for development.
- `main.js` starts the desktop version with Electron.
- `bin/cli.js` offers commands to interact with the node and wallets.
- `next.config.cjs` defines the Next.js configuration.
- `next-env.d.ts` contains type declarations generated by Next.
- `tsconfig.json` configures the TypeScript compiler.
- `package.json` lists dependencies and available scripts.
- `package-lock.json` locks dependency versions.
- `components/` houses reusable React components.
- `pages/` defines frontend routes.
- `lib/` includes shared utilities.
- `__tests__/` contains the Jest suite.
- `src/blockchain/` implements the blockchain and mining.
- `src/service/` exposes the HTTP API.
- `src/middleware/` groups the API endpoints.
- `src/modules/` provides helper modules.
- `src/storage/` stores the chain, mempool and wallet data.
- `src/utils/` gathers helper functions.
- `src/wallet/` handles keys and wallet operations.
- `src/public/` exposes static resources.
- `src/miner/` offers automatic mining utilities.

## Environment variables
- `DB_TYPE` selects the data backend (`json`, `mongodb`, `mysql`, `postgres`, `firebase`).
- `DB_URI` defines the connection URL.
- `DB_USER` and `DB_PASSWORD` set credentials for MySQL and PostgreSQL.
- `FIREBASE_CERT` points to the Firebase service account JSON.

## Contribution
- Write commit messages in Spanish and briefly describe the change.
- Run `npm test` and `npm run eslint` before each commit.
- Pull Requests must include a summary in Spanish of the changes and test results.
